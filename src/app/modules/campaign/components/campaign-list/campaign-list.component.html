<div class="container">
  <!-- Header -->
  <div class="row mb-5">
    <div class="col-md-6">
      <h1 class="display-5 mb-3" style="color: var(--dark-color);">ðŸ“ˆ Campaign Dashboard</h1>
      <p class="text-muted">Manage and track all your betting campaigns in one place</p>
    </div>
    <div class="col-md-6 text-md-right">
      <button class="btn btn-primary btn-lg" routerLink="/campaigns/create">
        <i class="fas fa-plus mr-2"></i>New Campaign
      </button>
    </div>
  </div>

  <!-- Stats Overview -->
  <div class="row mb-4">
    <div class="col-md-3">
      <div class="stats-card card">
        <div class="stat-value">{{ getTotalCampaigns() }}</div>
        <div class="stat-label">Total Campaigns</div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="stats-card card">
        <div class="stat-value">{{ getTotalBalance() | currencyFormat  }}</div>
        <div class="stat-label">Total Balance</div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="stats-card card">
        <div class="stat-value">{{ getTotalDeposits() | currencyFormat  }}</div>
        <div class="stat-label">Total Deposits</div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="stats-card card">
        <div class="stat-value">{{ getTotalWithdrawals() | currencyFormat  }}</div>
        <div class="stat-label">Total Withdrawals</div>
      </div>
    </div>
  </div>

  <!-- Campaigns Grid -->
  <div class="row" *ngIf="campaigns.length > 0; else noCampaigns">
    <div class="col-12 mb-4">
      <h4 class="mb-4" style="color: var(--dark-color);">Active Campaigns</h4>
    </div>
    
    <div class="col-md-6 col-lg-4" *ngFor="let campaign of campaigns">
      <div class="card campaign-card h-100">
        <div class="card-header">
          <div class="d-flex justify-content-between align-items-center">
            <h5 class="mb-0">{{ campaign.name }}</h5>
            <span class="badge" 
                  [ngClass]="{
                    'badge-success': campaign.current_balance > 0,
                    'badge-warning': campaign.current_balance === 0
                  }">
              {{ campaign.current_balance > 0 ? 'Active' : 'No Balance' }}
            </span>
          </div>
        </div>
        
        <div class="card-body">
          <div class="mb-4">
            <div class="d-flex justify-content-between mb-2">
              <span class="text-muted">Current Balance</span>
              <span class="font-weight-bold" 
                    [ngClass]="{
                      'text-success': campaign.current_balance > 0,
                      'text-warning': campaign.current_balance === 0
                    }">
                {{ campaign.current_balance | currencyFormat  }}
              </span>
            </div>
            
            <div class="progress mb-3" style="height: 8px;">
              <div class="progress-bar bg-success" 
                   [style.width.%]="(campaign.current_balance / campaign.start_balance) * 100">
              </div>
            </div>
            
            <div class="row text-center">
              <div class="col-6">
                <small class="text-muted d-block">Start</small>
                <strong>{{ campaign.start_balance | currencyFormat  }}</strong>
              </div>
              <div class="col-6">
                <small class="text-muted d-block">Created</small>
                <strong>{{ campaign.created_at | date:'shortDate' }}</strong>
              </div>
            </div>
          </div>
          
          <div class="d-flex justify-content-between">
            <a [routerLink]="['/campaigns', campaign.id]" class="btn btn-outline-primary btn-sm">
              <i class="fas fa-eye mr-1"></i>View Details
            </a>
            <div>
              <span class="badge badge-light mr-1" *ngIf="campaign.total_deposits > 0">
                â†— {{ campaign.total_deposits | currencyFormat  }}
              </span>
              <span class="badge badge-light" *ngIf="campaign.total_withdrawals > 0">
                â†˜ {{ campaign.total_withdrawals | currencyFormat  }}
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- No Campaigns Template -->
  <ng-template #noCampaigns>
    <div class="row">
      <div class="col-md-6 offset-md-3">
        <div class="card text-center py-5">
          <div class="card-body">
            <i class="fas fa-chart-line fa-4x text-muted mb-4"></i>
            <h4 class="mb-3" style="color: var(--dark-color);">No Campaigns Yet</h4>
            <p class="text-muted mb-4">Start tracking your betting campaigns by creating your first one.</p>
            <button class="btn btn-primary btn-lg" routerLink="/campaigns/create">
              <i class="fas fa-plus mr-2"></i>Create First Campaign
            </button>
          </div>
        </div>
      </div>
    </div>
  </ng-template>
</div>