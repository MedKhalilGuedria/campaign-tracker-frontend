<div class="balance-chart">
  <div class="row">
    <!-- Balance Timeline Chart -->
    <div class="col-lg-8 mb-4">
      <div class="card h-100">
        <div class="card-header">
          <h5 class="mb-0">Balance Timeline</h5>
          <small class="text-muted">Showing data for selected period</small>
        </div>
        <div class="card-body">
          <div class="chart-container" style="position: relative; height: 300px;">
            <canvas baseChart
                    [data]="lineChartData"
                    [options]="lineChartOptions"
                    [type]="'line'">
            </canvas>
          </div>
        </div>
      </div>
    </div>

    <!-- Performance Chart -->
    <div class="col-lg-4 mb-4">
      <div class="card h-100">
        <div class="card-header">
          <h5 class="mb-0">Bet Performance</h5>
          <small class="text-muted">Win/Loss Distribution</small>
        </div>
        <div class="card-body">
          <div class="chart-container" style="position: relative; height: 250px;">
            <canvas baseChart
                    [data]="doughnutChartData"
                    [options]="doughnutChartOptions"
                    [type]="doughnutChartType">
            </canvas>
          </div>
          
          <!-- Performance Stats -->
          <div class="row mt-3 text-center">
            <div class="col-4">
              <div class="text-success small">Wins</div>
              <div class="h5">{{ performanceStats.wins }}</div>
            </div>
            <div class="col-4">
              <div class="text-danger small">Losses</div>
              <div class="h5">{{ performanceStats.losses }}</div>
            </div>
            <div class="col-4">
              <div class="text-warning small">Pending</div>
              <div class="h5">{{ performanceStats.pending }}</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Daily Profit/Loss Chart -->
  <div class="row mb-4">
    <div class="col-12">
      <div class="card">
        <div class="card-header">
          <h5 class="mb-0">Daily Profit/Loss</h5>
          <small class="text-muted">Daily betting performance</small>
        </div>
        <div class="card-body">
          <div class="chart-container" style="position: relative; height: 250px;">
            <canvas baseChart
                    [data]="barChartData"
                    [options]="barChartOptions"
                    [type]="'bar'">
            </canvas>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Stats Overview -->
  <div class="row">
    <!-- Betting Stats -->
    <div class="col-md-6 mb-4">
      <div class="card h-100">
        <div class="card-header">
          <h5 class="mb-0">Betting Statistics</h5>
        </div>
        <div class="card-body">
          <div class="row">
            <div class="col-6 mb-3">
              <div class="text-muted small">Total Bets</div>
              <div class="h4">{{ performanceStats.totalBets }}</div>
            </div>
            <div class="col-6 mb-3">
              <div class="text-muted small">Win Rate</div>
              <div class="h4" [ngClass]="performanceStats.winRate >= 50 ? 'text-success' : 'text-warning'">
                {{ performanceStats.winRate }}%
              </div>
            </div>
            <div class="col-6 mb-3">
              <div class="text-muted small">Total Staked</div>
              <div class="h4">{{ performanceStats.totalStaked | currency }}</div>
            </div>
            <div class="col-6 mb-3">
              <div class="text-muted small">Total Profit/Loss</div>
              <div class="h4" [ngClass]="performanceStats.totalProfit >= 0 ? 'text-success' : 'text-danger'">
                {{ performanceStats.totalProfit >= 0 ? '+' : '' }}{{ performanceStats.totalProfit | currency }}
              </div>
            </div>
            <div class="col-6 mb-3">
              <div class="text-muted small">Average Odds</div>
              <div class="h4">{{ performanceStats.avgOdds }}</div>
            </div>
            <div class="col-6 mb-3">
              <div class="text-muted small">ROI</div>
              <div class="h4" [ngClass]="performanceStats.totalProfit >= 0 ? 'text-success' : 'text-danger'">
                {{ performanceStats.totalStaked > 0 ? 
                  ((performanceStats.totalProfit / performanceStats.totalStaked) * 100 | number:'1.1-1') : 0 }}%
              </div>
            </div>
          </div>
          
          <!-- Best/Worst Day -->
          <div class="row mt-3">
            <div class="col-6">
              <div class="card border-success">
                <div class="card-body text-center p-2">
                  <div class="text-success small">Best Day</div>
                  <div class="h6 mb-1" *ngIf="performanceStats.bestDay.date">
                    {{ performanceStats.bestDay.date | date:'shortDate' }}
                  </div>
                  <div class="h6 mb-1 text-muted" *ngIf="!performanceStats.bestDay.date">
                    -
                  </div>
                  <div class="text-success">
                    +{{ performanceStats.bestDay.profit | currency }}
                  </div>
                </div>
              </div>
            </div>
            <div class="col-6">
              <div class="card border-danger">
                <div class="card-body text-center p-2">
                  <div class="text-danger small">Worst Day</div>
                  <div class="h6 mb-1" *ngIf="performanceStats.worstDay.date">
                    {{ performanceStats.worstDay.date | date:'shortDate' }}
                  </div>
                  <div class="h6 mb-1 text-muted" *ngIf="!performanceStats.worstDay.date">
                    -
                  </div>
                  <div class="text-danger">
                    {{ performanceStats.worstDay.profit | currency }}
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Transaction Stats -->
    <div class="col-md-6 mb-4">
      <div class="card h-100">
        <div class="card-header">
          <h5 class="mb-0">Transaction Statistics</h5>
        </div>
        <div class="card-body">
          <div class="row">
            <div class="col-6 mb-3">
              <div class="text-muted small">Total Deposits</div>
              <div class="h4 text-success">{{ transactionStats.totalDeposits | currency }}</div>
            </div>
            <div class="col-6 mb-3">
              <div class="text-muted small">Total Withdrawals</div>
              <div class="h4 text-danger">{{ transactionStats.totalWithdrawals | currency }}</div>
            </div>
            <div class="col-6 mb-3">
              <div class="text-muted small">Net Transactions</div>
              <div class="h4" [ngClass]="(transactionStats.totalDeposits - transactionStats.totalWithdrawals) >= 0 ? 'text-success' : 'text-danger'">
                {{ (transactionStats.totalDeposits - transactionStats.totalWithdrawals) >= 0 ? '+' : '' }}
                {{ transactionStats.totalDeposits - transactionStats.totalWithdrawals | currency }}
              </div>
            </div>
            <div class="col-6 mb-3">
              <div class="text-muted small">Transaction Count</div>
              <div class="h4">{{ transactionStats.depositCount + transactionStats.withdrawalCount }}</div>
            </div>
            <div class="col-6 mb-3">
              <div class="text-muted small">Largest Deposit</div>
              <div class="h4 text-success">{{ transactionStats.largestDeposit | currency }}</div>
            </div>
            <div class="col-6 mb-3">
              <div class="text-muted small">Largest Withdrawal</div>
              <div class="h4 text-danger">{{ transactionStats.largestWithdrawal | currency }}</div>
            </div>
          </div>
          
          <!-- Best/Worst Day -->
          <div class="row mt-3">
            <div class="col-6">
              <div class="card border-success">
                <div class="card-body text-center p-2">
                  <div class="text-success small">Best Day</div>
                  <div class="h6 mb-1" *ngIf="transactionStats.bestDay.date">
                    {{ transactionStats.bestDay.date | date:'shortDate' }}
                  </div>
                  <div class="h6 mb-1 text-muted" *ngIf="!transactionStats.bestDay.date">
                    -
                  </div>
                  <div class="text-success">
                    +{{ transactionStats.bestDay.net | currency }}
                  </div>
                </div>
              </div>
            </div>
            <div class="col-6">
              <div class="card border-danger">
                <div class="card-body text-center p-2">
                  <div class="text-danger small">Worst Day</div>
                  <div class="h6 mb-1" *ngIf="transactionStats.worstDay.date">
                    {{ transactionStats.worstDay.date | date:'shortDate' }}
                  </div>
                  <div class="h6 mb-1 text-muted" *ngIf="!transactionStats.worstDay.date">
                    -
                  </div>
                  <div class="text-danger">
                    {{ transactionStats.worstDay.net | currency }}
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>